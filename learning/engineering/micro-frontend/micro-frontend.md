### 微前端

出现原因：

1. 需要迁移遗留系统
2. 后端解耦
3. 前端聚合
4. 热闹驱动开发
5. 无关技术栈

缺陷：

#### 实现方式

1. 路由分发式：通过 HTTP 服务器的反向代理功能，将请求路由映射到对应的应用上
2. 前端微服务化：在不同的框架之上设计通信和加载机制，以在一个页面内加载对应的应用
3. 微应用：通过软件工程的方式，在部署构建环境中，把多个独立的应用组合成一个单体应用
4. 微件化：开发一个新的构建系统，将部分业务功能构建成一个独立的 chunk 代码，使用时只需要远程加载即可
5. 前端容器化：将 iframe 作为容器来容纳其它前端应用
6. 应用组件化：借助于 Web Components 技术，来构建跨框架的前端应用

#### 架构设计

- 组件和样式
- 应用间通信

  - 兄弟间
    - 全局自定义事件
    - 共享 window
  - 父子
    - PostMessage
    - 通过 parent.window 寻找父窗口后再发出全局自定义事件
    - 当其他应用加载时将消息发送给父窗口，由父窗口发出自定义事件
    - 当其他应用未加载时先将消息传递给父窗口再由父窗口进行存储，提供一个获取通信的机制

- 数据共享
  - URL 参数
  - localStorage
  - 其他客户端存储如 indexedDB 和 web sql
  - 服务端采用 json 存储客户端状态
- 构建系统
